<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>外国人生活支援ポータルサイト</title>
    <style>
        /* ===== デザインシステム ===== */
        :root {
            /* メインカラー */
            --primary: #154869;          /* サイト全体の基調色 */
            --primary-light: #F3F3F3;    /* 明るい基調色 - 背景など */
            --primary-dark: #0D2E44;     /* 暗い基調色 - ホバー時など */
            
            /* アクセントカラー */
            --accent: #2A6F9A;           /* 強調色 */
            --accent-light: #E8F4F9;     /* 明るい強調色 - 背景など */
            --accent-hover: #1E5275;     /* ホバー時の強調色 */
            
            /* システムフィードバックカラー */
            --success: #2E7D32;          /* 成功通知 */
            --success-light: #E8F5E9;    /* 成功通知の背景 */
            --warning: #ED6C02;          /* 警告通知 */
            --warning-light: #FFF4E5;    /* 警告通知の背景 */
            --error: #D32F2F;            /* エラー通知 */
            --error-light: #FEE8E8;      /* エラー通知の背景 */
            
            /* インタラクション */
            --hover-bg: #F8FAFB;         /* ホバー時の背景色 */
            --active-bg: #E8F0F4;        /* アクティブ時の背景色 */
            --focus-ring: rgba(21, 72, 105, 0.2);  /* フォーカス時のリング色 */
            
            /* テキストカラー */
            --text-primary: #1A1A1A;     /* メインテキスト */
            --text-secondary: #666666;    /* サブテキスト */
            --text-tertiary: #888888;    /* 補足テキスト */
            
            /* 装飾要素 */
            --border: #E5E8EC;           /* ボーダー色 */
            --shadow-sm: 0 2px 4px rgba(21, 72, 105, 0.06);  /* 小さい影 */
            --shadow-md: 0 4px 8px rgba(21, 72, 105, 0.08);  /* 中くらいの影 */
            
            /* インタラクションアニメーション */
            --transition-fast: 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            --transition-normal: 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            --transition-slow: 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
            
            /* スケールエフェクト */
            --scale-hover: scale(1.02);
            --scale-active: scale(0.96);
            --interactive-icon-scale: scale(1.15);
            
            /* エレベーション（影の深さ） */
            --elevation-hover: 0 8px 24px rgba(21, 72, 105, 0.12),
                              0 4px 8px rgba(21, 72, 105, 0.08),
                              0 2px 4px rgba(21, 72, 105, 0.04);
            --elevation-active: 0 2px 8px rgba(21, 72, 105, 0.08);

            /* インタラクション共通定義 */
            --interactive-transition: all var(--transition-normal);
            --interactive-icon-transition: transform var(--transition-normal);

            --interactive-hover: {
                transform: var(--scale-hover);
                box-shadow: var(--elevation-hover);
                background-color: var(--hover-bg);
            }
            --interactive-active: {
                transform: var(--scale-active);
                box-shadow: var(--elevation-active);
                background-color: var(--active-bg);
            }
            --interactive-icon-transition: transform var(--transition-normal);
            --interactive-icon-hover: scale(1.1);
        }

        /* ===== 基本レイアウト ===== */
        html {
            overflow-y: scroll; /* スクロールバーを常に表示 */
        }
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', sans-serif;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            max-width: 1400px;
            margin: 0 auto;
        }
        body.modal-open {
            overflow: hidden;
        }

        /* ===== ヘッダーコンポーネント ===== */
        header {
            text-align: center;
            margin-bottom: 15px;
        }

        header h1 {
            color: var(--primary);
            font-size: 1.5em;
            margin: 8px 0;
            border-bottom: 3px solid var(--primary-light);
            padding-bottom: 8px;
        }

        /* ===== コンテナ共通スタイル ===== */
        .news-container,
        .related-links,
        .slider-container,
        .notice-container {
            max-width: 800px;
            margin: 0 auto 15px;
            background: white;
            border-radius: 6px;
            border: 1px solid rgba(0,0,0,0.1);
            box-shadow: 
                0 2px 4px var(--shadow-sm),
                0 12px 25px var(--shadow-md);
        }

        .news-container h2,
        .related-links h2,
        .notice-container h2 {
            padding: 8px 15px;
            margin: 0;
            font-size: 1em;
            color: var(--primary);
            background: var(--primary-light);
            border-radius: 6px 6px 0 0;
            letter-spacing: 0.5px;
        }
        .tile,
        .modal-tile,
        .category-item,
        .link-item a {
            cursor: pointer;
            transition: var(--interactive-transition);
            will-change: transform, box-shadow;
            backface-visibility: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .tile-icon svg,
        .modal-tile-icon svg,
        .link-item img {  
            transition: var(--interactive-icon-transition);
            transform-origin: center center;
            will-change: transform;
        }   

        .tile:hover .tile-icon svg,
        .modal-tile:hover .modal-tile-icon svg,
        .link-item a:hover img {  
            transform: var(--interactive-icon-scale);
        }


        .tile:hover,
        .modal-tile:hover,
        .category-item:hover,
        .link-item a:hover {
            transform: var(--scale-hover) translateY(-2px);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        /* アクティブ時の動きも調整 */
        .tile:active,
        .modal-tile:active,
        .category-item:active,
        .link-item a:active {
            transform: var(--scale-active) translateY(1px);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }
        /* ォーカス状態のスタイル追加 */
        .tile:focus-visible,
        .modal-tile:focus-visible,
        .category-item:focus-visible,
        .link-item a:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px var(--focus-ring);
        }


        /* ===== 更新情報コンポーネント ===== */
        .news-content {
            height: auto;  /* 固定の高さを削除 */
            flex: 1;      /* 親要素の残りのスペースを埋める */
            overflow-y: auto;
            padding: 0 15px;
        }

        .news-list {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        /* 更新情報のテキストサイズ調整 */
        .news-item {
            padding: 6px 12px;  /* パディングを縮小 */
            border-bottom: 1px solid var(--border);
            display: flex;
            flex-wrap: wrap;
            gap: 4px;  /* gap を縮小 */
            align-items: center;
        }

        .news-item[data-href]:hover {
            background-color: var(--hover-bg);
        }

        .news-item[data-href]:hover .news-text {
            color: var(--accent);
        }

        .news-item:not([data-href]):hover {
            background-color: #f5f5f5;  
        }

        .news-text {
            font-size: 0.8em;  /* テキストを小さく */
            flex: 1;
            min-width: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }


        /* 更新情報タグ */
        .news-tag {
            font-size: 0.7em;  /* タグを小さく */
            padding: 1px 6px;   /* タグのパディングを調整 */
            border-radius: 3px;
            white-space: nowrap;
        }

        .news-date {
            font-size: 0.75em;  /* 日付を小さく */
            color: var(--text-secondary);
            white-space: nowrap;
        }

        /* カスタムスクロールバー */
        .news-content::-webkit-scrollbar {
            width: 8px;
        }

        .news-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .news-content::-webkit-scrollbar-thumb {
            background: #ccd7e2;
            border-radius: 4px;
        }

        .news-content::-webkit-scrollbar-thumb:hover {
            background: #b3c2d1;
        }

        /* タグの種類別スイル */
        .tag-notice { background: var(--accent-light); color: var(--accent); }
        .tag-important { background: var(--warning-light); color: var(--warning); }
        .tag-update { background: var(--success-light); color: var(--success); }

        @media (max-width: 768px) {
            .news-item {
                padding: 6px 0;
                gap: 4px;
            }

            .news-tag {
                font-size: 0.7em;
                padding: 2px 4px;
                min-width: 48px;
                width: 48px;
                margin-right: 4px;
            }

            .news-date {
                min-width: 85px;
                width: 85px;
                font-size: 0.8em;
            }

            .news-text {
                font-size: 0.85em;
                line-height: 1.4;
            }

            .news-content {
                height: 180px;
            }
        }

        /* ===== 検索コンポーネント ===== */
        .search-container {
            text-align: center;
            margin: 12px 0;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .search-box {
            width: 50%;
            padding: 8px 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-size: 16px;
            transition: all var(--transition-fast);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--focus-ring);
        }

        .search-button {
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-fast);
        }

        .search-button:hover {
            background-color: var(--primary-dark);
            transform: var(--scale-hover);
        }

        .search-button:active {
            transform: var(--scale-active);
        }

        /* ===== タイルグリッドコンポーネント ===== */
        .tile-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            max-width: 800px;
            margin: 0 auto 15px;
            justify-content: flex-start;
            width: 100%;
        }

        .tile {
            width: calc((100% - 30px) / 3);
            aspect-ratio: 1;
            flex: 0 0 auto;
            background: white;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            text-align: center;
            border-top: 3px solid transparent;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }

        .tile:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .tile:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .tile h3 {
            margin: 8px 0;
            font-size: 1em;
            color: var(--primary);
        }

        .tile p {
            margin: 0;
            font-size: 0.85em;
            line-height: 1.3;
        }

        .tile-icon svg {
            width: 48px;
            height: 48px;
            fill: var(--primary);
        }

        /* タイルグリッドのレスポンシブ対応 */
        @media (min-width: 769px) and (max-width: 1024px) {
            @media (orientation: portrait) {
                .tile-grid {
                    grid-template-columns: repeat(3, 1fr);
                }
                .tile {
                    width: calc((100% - 30px) / 3);
                }
            }
            @media (orientation: landscape) {
                .tile-grid {
                    grid-template-columns: repeat(4, 1fr);
                }
                .tile {
                    width: calc((100% - 45px) / 4);
                }
            }
        }

        @media (max-width: 768px) {
            .tile-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .tile {
                width: calc((100% - 15px) / 2);
                min-height: 160px;
                padding: 15px;
            }

            .tile h3 {
                font-size: 0.9em;
            }

            .tile p {
                font-size: 0.8em;
            }

            .tile-icon svg {
                width: 32px;
                height: 32px;
            }
        }

        /* ===== モーダルコンポーネント ===== */
        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            max-height: 95vh;
            background: white;
            border-radius: 12px;
            padding: 20px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.25s ease;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            box-sizing: border-box;
            pointer-events: none;
            overscroll-behavior: contain; 
        }

        .modal.show {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.25s ease;
            pointer-events: none;
        }

        .modal-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .close-modal {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: transparent;
            border: 2px solid transparent;
            z-index: 1002;
            line-height: 0;
            padding: 0;
            transition: all var(--transition-fast);
        }

        .close-modal::before {
            content: "×";
            display: block;
            margin-top: -2px;
        }

        .close-modal:hover {
            background-color: var(--hover-bg);
            transform: var(--scale-hover);
        }

        .close-modal:active {
            transform: var(--scale-active);
        }

        /* ===== カテゴリーリストコンポーネント ===== */
        .category-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .category-item {
            width: 100%;
            background: white;
            padding: 15px 20px;
            border-radius: 6px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            align-items: stretch;
            position: relative;
            border-left: 3px solid transparent;
            gap: 12px;
            box-sizing: border-box;
        }

        .category-item:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .category-item:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .category-image-container {
            width: 100%;
            position: relative;
            padding-bottom: 25%;
            overflow: hidden;
            border-radius: 8px;
            background: transparent;
        }

        .category-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 8px;
            border: 2px solid white;
            box-sizing: border-box;
        }

        .category-description {
            width: 100%;
            color: var(--text-secondary);
            font-size: 0.95em;
            line-height: 1.5;
            background: var(--primary-light);
            padding: 8px 12px;
            border-radius: 6px;
            margin: 0;
            box-sizing: border-box;
        }

        /* ===== モーダル内タイグリッド ===== */
        .modal-tile-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 0;
            padding: 0;
            width: 100%;
            box-sizing: border-box;
        }

        .modal-tile {
            aspect-ratio: 1;
            background: white;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-sizing: border-box;
        }

        .modal-tile:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .modal-tile:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .modal-tile-icon svg {
            width: 32px;
            height: 32px;
            fill: var(--primary);
        }
        
        /* ===== 検索結果コンポーネント ===== */
        .category-item.search-result {
            min-height: 60px;
            padding: 20px;
            display: block;
        }

        .search-path {
            color: var(--text-primary);
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .search-sub-items {
            list-style: none;
            padding-left: 20px;
            margin: 0;
        }

        .search-sub-items li {
            margin: 5px 0;
            color: var(--text-secondary);
        }

        /* モーダルのレスポンシブ対応 */
        @media (min-width: 769px) and (max-width: 1024px) {
            @media (orientation: landscape) { 
                .modal {
                    padding: 15px;
                }

                .modal-tile-grid {
                    gap: 10px;
                }

                .modal-tile {
                    padding: 10px;
                }

                .modal-tile h4 {
                    font-size: 0.9em;
                }

                .modal-tile-icon svg {
                    width: 28px;
                    height: 28px;
                }
            }

            @media (orientation: portrait) {
                .modal-tile-grid {
                    grid-template-columns: repeat(3, 1fr);
                }
            }
        }

        @media (max-width: 768px) {
            .modal {
                width: 100%;
                height: 100%;
                max-height: none;  
                max-width: 100%;
                top: auto;
                left: 0;
                bottom: 0;
                transform: translateY(100%);
                border-radius: 20px 20px 0 0;
                padding: 16px;
                margin: 0;
                transition: transform 0.25s ease, opacity 0.25s ease;
            }

            .modal.show {
                transform: translateY(0);
            }

            .modal-tile-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .modal-tile {
                padding: 8px;
            }

            .modal-tile h4 {
                font-size: 0.8em;
            }

            .modal-tile-icon svg {
                width: 24px;
                height: 24px;
            }

            .category-media {
                gap: 6px;
            }

            .category-list {
                width: 100%;
                max-width: 100%;
            }

            .category-image-container {
                width: 100% !important;
                padding-bottom: 35% !important;
            }
            
            .category-image {
                width: 100% !important;
                height: 100% !important;
                object-fit: contain !important;
            }

            .category-description {
                font-size: 0.9em;
                padding: 6px 10px;
            }
        }

        /* ===== 関連リンクコンポーネント ===== */
        .link-list {
            list-style: none;
            padding: 15px;
            margin: 0;
            display: flex;
            gap: 4px;
            justify-content: space-between;
            align-items: center;  
            min-height: 120px;  
        }

        .link-item {
            flex: 0 1 calc(10% - 10px);
            min-width: 0;
            align-self: center; 
        }

        .link-item a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-secondary);
            padding: 2px;
            border-radius: 4px;
            width: 100%;
            box-sizing: border-box;
            justify-content: flex-start;
        }

        .link-item a:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .link-item a:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .link-item img {
            width: 36px;
            height: 36px;
            object-fit: contain;
            margin-top: 8px;
            margin-bottom: 8px;
        }

        .link-item span {
            font-size: 0.7em;
            color: var(--text-secondary);
            text-align: center;
            width: 100%;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.2;
            margin: 0 0 4px;
        }

        @media (max-width: 768px) {
            .link-list {
                flex-wrap: wrap;
                gap: 10px;
                justify-content: flex-start;
                min-height: unset;  
            }

            .link-item {
                flex: 0 1 calc(33.333% - 10px);
            }

            .link-item img {
                width: 32px;
                height: 32px;
                margin-top: 8px;
                margin-bottom: 8px;
            }

            .link-item span {
                font-size: 0.65em;
                height: auto;
                margin-top: 4px;
            }
        }   

        /* ===== トースト通知コンポーネント ===== */
        .toast-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            z-index: 2000;
            opacity: 0;
            box-shadow: var(--shadow-md);
            transition: opacity var(--transition-normal), transform var(--transition-normal);
        }

        .toast-message.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-20px);
        }

        /* ===== アクセシビリティ対応 ===== */
        @media (forced-colors: active) {
            .tile,
            .news-container,
            .search-button {
                border: 1px solid currentColor;
            }
        }

        /* ===== トップコンテナ ===== */
        .top-container {
            display: flex;
            gap: 20px;
            margin: 20px auto;
            max-width: 800px;
            padding: 0 15px;
            height: 180px;  /* 固定値に変更 */
        }

        /* 更新情報エリア */
        .news-container {
            flex: 2;
            min-width: 0;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* バナーエリア */
        .banner-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            height: 100%; /* トップコンテナの高さに合わせる */
        }

        /* バナーアイテムの画像設定 */
        .banner-item {
            flex: 1;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            position: relative;
            height: calc((180px - 15px) / 2);  /* トップコンテナの高さから間隔を引いて2分割 */
        }

        .banner-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;  /* 画像の比率を保持 */
            display: block;
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .top-container {
                flex-direction: column;
            }

            .banner-container {
                flex-direction: row;
                height: auto;
            }

            .banner-item {
                height: 100px;  /* モバイル時の高さを調整 */
            }

            .news-container {
                height: 250px;  /* モイル時の高さを調整 */
            }
        }

        /* h2タイトルも調整 */
        .news-container h2 {
            font-size: 0.95em;  /* タイトルも小さく */
            margin: 0 0 8px;
        }

        /* ===== セクション区切りコンポーネント ===== */
        .section-divider {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 15px;
        }

        .section-divider h2 {
            font-size: 1.1em;
            color: var(--text-primary);
            margin: 0 0 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-divider h2::before {
            content: "";
            width: 4px;
            height: 1em;
            background-color: var(--primary);
            border-radius: 2px;
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .section-divider {
                margin: 20px auto;
            }

            .section-divider h2 {
                font-size: 1em;
                margin-bottom: 12px;
            }
        }

        /* セクション内のタイルグリッド調整 */
        .section-divider .modal-tile-grid {
            margin-top: 20px;
            gap: 10px;
            grid-template-columns: repeat(6, 1fr);  /* 7列から6列に変更 */
        }

        .section-divider .modal-tile {
            padding: 12px 8px;  /* 左右のパディングを小さくして横幅を抑える */
            aspect-ratio: 1;
            flex: 0 0 auto;
            background: white;
            border: 1px solid var(--border);
            border-radius: 6px;
            box-shadow: var(--shadow-sm);
            text-align: center;
            border-top: 3px solid transparent;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }
        

        .section-divider .modal-tile:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .section-divider .modal-tile:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .section-divider .modal-tile h4 {
            margin: 8px 0 0;
            font-size: 0.8em;  /* フォントサイズを少し小さくして収まるように */
            text-align: center;
            color: var(--text-primary);
        }

        .section-divider .modal-tile-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--primary);
        }

        .section-divider .modal-tile-icon svg {
            width: 24px;
            height: 24px;
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .section-divider .modal-tile-grid {
                gap: 8px;  /* モバイルではさらにギャップを小さく */
                grid-template-columns: repeat(3, 1fr);
            }

            .section-divider .modal-tile {
                padding: 8px 6px;  /* モバイルでは更にパディングを小さく */
            }

            .section-divider .modal-tile h4 {
                font-size: 0.75em;  /* モバイルではさらに小さく */
            }

            .section-divider .modal-tile-icon svg {
                width: 20px;
                height: 20px;
            }
        }

        .tile-container {  /* 新しく追加するコンテナ */
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .tile {
            width: calc((100% - 30px) / 3);  /* 3つのタイルの幅を均等に */
            aspect-ratio: 1;
            flex: 0 0 auto;
            background: white;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            text-align: center;
            border-top: 3px solid transparent;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }

        .tile:hover {
            transform: var(--scale-hover);
            box-shadow: var(--elevation-hover);
            background-color: var(--hover-bg);
        }

        .tile:active {
            transform: var(--scale-active);
            box-shadow: var(--elevation-active);
            background-color: var(--active-bg);
        }

        .tile h3 {
            margin: 8px 0;
            font-size: 1em;
            color: var(--primary);
        }

        .tile p {
            margin: 0;
            font-size: 0.85em;
            line-height: 1.3;
        }

        .tile-icon svg {
            width: 48px;
            height: 48px;
            fill: var(--primary);
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .tile-container {
                flex-direction: column;
            }
            
            .tile {
                width: 100%;
                aspect-ratio: auto;
            }
        }

        .section-lead {
            margin: 15px 0 25px;
            color: var(--text-secondary);
            font-size: 0.95em;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .section-lead {
                margin: 10px 0 20px;
                font-size: 0.9em;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>
<body>
    <header>
        <h1>外国人生活支援ポータルサイト</h1>
    </header>

    <div class="top-container">
        <div class="news-container">
            <h2>お知らせ</h2>
            <div class="news-content">
                <ul class="news-list">
                    <!-- ここにJavaScriptで更新情報が動的に生成されます -->
                </ul>
            </div>
        </div>
        <div class="banner-container">
            <div class="banner-item">
                <img src="./バナー/ガイドブック.jpg" alt="生活・就���ガイドブック">
            </div>
            <div class="banner-item">
                <img src="./バナー/センター.png" alt="外国人在留支援センター">
            </div>
        </div>
    </div>

    <div class="search-container">
        <input type="text" class="search-box" placeholder="キーワードを入力して検索...">
        <button class="search-button">検索</button>
    </div>

    <div class="section-divider">
        <h2>カテゴリ別リンク集</h2>
        <p class="section-lead">
            <!-- ここにリード文が入ります -->
             多言語で書かれた国からのお知らせなどをカテゴリ別に整理して掲載しています。
        </p>
        <div class="modal-tile-grid">
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                    </svg>
                </div>
                <h4>総合</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M4 4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H6z"/>
                        <path d="M11 0H5a2 2 0 0 0-2 2v2h2V2h6v2h2V2a2 2 0 0 0-2-2zm-1 8H6v2h4V8z"/>
                    </svg>
                </div>
                <h4>入国・在留</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
                    </svg>
                </div>
                <h4>市区町村の手続</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                    </svg>
                </div>
                <h4>雇用・労働</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                    </svg>
                </div>
                <h4>出産・子育て</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687z"/>
                    </svg>
                </div>
                <h4>教育</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7.5 5.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L6 7l-.549.317a.5.5 0 1 0 .5.866l.549-.317V8.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L8 7l.549-.317a.5.5 0 1 0-.5-.866l-.549.317V5.5zM5.5 9h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0 0 1zm0 2h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0 0 1z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                    </svg>
                </div>
                <h4>医療</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                </div>
                <h4>年金・福祉</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"/>
                        <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"/>
                    </svg>
                </div>
                <h4>税金</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
                    </svg>
                </div>
                <h4>交通</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                    </svg>
                </div>
                <h4>緊急・災害</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
                    </svg>
                </div>
                <h4>住居</h4>
            </div>
            <div class="modal-tile">
                <div class="modal-tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/>
                    </svg>
                </div>
                <h4>日常生活のルール</h4>
            </div>
        </div>
    </div>

    <div class="section-divider">
        <h2>生活・就労ガイドブック</h2>
        <p class="section-lead">
            <!-- ここにリード文が入ります -->
            国の機関が協力して、日本で安心して暮らすために必要な制度やルールについてまとめました。
        </p>
        <div class="tile-container">
            <div class="tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
                </div>
                <div class="tile-content">
                    <h3>多言語版</h3>
                    <p>日本語を含めた多言語版を公開しているページです。</p>
                </div>
            </div>
            <div class="tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
                </div>
                <div class="tile-content">
                    <h3>やさしい日本語版</h3>
                    <p>誰にでも分かりやすいようにやさしい日本語で書きました。</p>
                </div>
            </div>
            <div class="tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
                </div>
                <div class="tile-content">
                    <h3>動画による紹介</h3>
                    <p>ガイドブックについて動画で紹介しています（政府広報オンライン）</p>
                </div>
            </div>
        </div>
    </div>

    <div class="section-divider">
        <h2>その他</h2>
        <p class="section-lead">
            <!-- ここにリード文が入ります -->
             その他のページやコンテンツをまとめて掲載しています。
        </p>
        <!-- コンテンツは後で追加 -->
    </div>

    
    <div class="tile-grid">
        <!-- タイルはJavaScriptで動的に生成されます -->
    </div>

    <!-- モーダルウィンドウ -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div id="categoryModal" class="modal">
        <button class="close-modal"></button>
        <h2 id="modalTitle"></h2>
        <ul class="category-list" id="categoryList"></ul>
    </div>

    <!-- トースト通知 -->
    <div class="toast-message" id="toastMessage"></div>

    <!-- 関連リンク -->
    <div class="related-links">
        <h2>関係省庁等リンク</h2>
        <ul class="link-list">
            <!-- ここにJavaScriptでリンクが動的に生成されます -->
        </ul>
    </div>

    <!-- データ定義 -->
    <script>
        // 1. データ定義
        const DATA = {

            news: [
                {
                    date: "2024年3月15日", 
                    tag: "update",
                    tagText: "更新",
                    text: "生活・就労ガイドブック（第6版）を掲載しました",
                    link: "https://www.moj.go.jp/isa/support/portal/guidebook_all.html"
                },
                {
                    date: "2024年 1月16日",
                    tag: "notice",
                    tagText: "お知らせ",
                    text: "臨時在留相談会を開催します"
                },
                {
                    date: "2024年 1月 4日",
                    tag: "important",
                    tagText: "重要",
                    text: "令和6年能登半島地震に関する情報を掲載しました"
                },
                {
                    date: "2023年12月10日",
                    tag: "update",
                    tagText: "更新", 
                    text: "イナンバーカードに関する特設ページを追加しました"
                },
                {
                    date: "2024年12月1日",
                    tag: "update",
                    tagText: "更新", 
                    text: "カテゴリ別ページを更新しました"
                },
            ],
            tiles: [
                {
                    id: "special",
                    title: "特設ページ",
                    description: "感染症や災害など<br>大事な情報をまとめています",
                    displayType: "list", 
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                    </svg>`
                },
                {
                    id: "easyJapanese", 
                    title: "やさしい日本語",
                    description: "誰にでもわかりやすい<br>やさしい日本語のコツをお伝えします",
                    displayType: "list", 
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/>
                        <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066 0 0 1-.415-.492 1.988 1.988 0 0 1-.94.31z"/>
                    </svg>`
                },
                {
                    id: "policies",
                    title: "各種施策・関連サイト",
                    description: "生活オリエンテーション動画や<br>御意見箱などを掲載しています",
                    displayType: "list", 
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                    </svg>`
                }
            ],
            categories: {
                "カテゴリ別": {
                    "総合": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>`,
                        items: ["孤独・孤立に関する情報", "困ったときの連絡先（項目別）", "困ったときの連絡先（地域別）", "外国人旅行者向けコールセンター", "NHK WORLD-JAPAN", "自治体国際化協会", "首相官邸ホームページ", "駐日外国公館ホームペジ一覧", "内閣府 防災情報のページ", "日本司法支援センター 法テラス（外国人向け）", "インターネット人権相談受付窓口", "外国人人権相談リーフレット", "外人との共生社会の実現に向けたロードマップ", "外国人材の受入れ・共生のための総合的対応策", "HarmoniUP!（ハーモニアップ！）取り組み内容", "法テラス（法律トラブル支援）サービス", "落とし物の検索", "遺失物法関連", "法テラス情報提供業務", "犯罪被害者支援業務", "法テラスの業務内容", "法ラスの民事法律扶助業務", "総務省の行政相談について", "行政相談の窓口", "行政相談パンフレット（多言語対応）"]
                    },
                    "入国・在留": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M4 4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H6z"/>
                            <path d="M11 0H5a2 2 0 0 0-2 2v2h2V2h6v2h2V2a2 2 0 0 0-2-2zm-1 8H6v2h4V8z"/>
                        </svg>`,
                        items: ["在留管理制度、在留カード等に関すること", "在留カードをお持ちの方へ「知っておきた！！在留管理制度あれこれ」", "出入国・在留に関する手続", "各種手続案内"]
                    },
                    "市区町村の手続": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
                        </svg>`,
                        items: ["外国人住民に係る住民基本台帳制度"]
                    },
                    "雇用・労働": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                        </svg>`,
                        items: ["高度外国人材活躍推進ポータル（日本貿易振興機構）", "外国人雇用のルールに関するパンフレット", "外国人起業活動促進事業（スタートアップビザ）", "素形材・産業機械・電気電子情報関連製造業分野に関する情報", "PARTNER（独立行政法人国際協力機構）", "その他の関リンク", "ハローワークに行きましょう", "相談機関のご紹介（外国人労働者向け）", "日本で働外国人の皆様へ（東京外国人雇用サービスセンターホームページ）", "労災保険請求のためのガイドブック", "労働条件ハンドブック", "仕事を探している外国人・外国人留学生のみなさまへ", "労働保険の成立手続リンク"]
                    },
                    "出産・育て": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                        </svg>`,
                        items: ["基本情報", "外国の方が日本で妊娠したら", "母子健康手帳（多言語版）", "高等学校等就支援金制度", "高等教育の修学支援新制度", "外国人児童生徒のための就学ガイドブック", "はじめまして！今日からともだち（動画）", "外国人児童・保護者向け動画「おしえて！日本の小学校」", "小学校に入る前の子供を持つ人へのガイド", "幼児期のお子さんを持つ保護者の皆様へ（日本の幼稚園の入園）", "幼児教育保育の無償化", "日本語能力自己評価ツール「にほんごチェック！」", "「生活者としての外国人」のための日本語学習サイト「つながるひろがる にほんごでのくらし」", "日本語学習・生活ハンドブック", "いろどり日本語オンラインコース", "まるごと日本語オンラインコース", "エリンが挑戦！にほんごできます。コンテンツライブラリー", "ひきだすにほんご Activate Your Japanese!", "JF にほんごeラーニング みなと", "日本語学習ポータルサイト「NIHONGO eな」", "いろどり 生活の日本語", "外国人学校向け新型コロナウイルス対策情報"]
                    },
                    "教育": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687z"/>
                        </svg>`,
                        items: ["基本情報", "外国の方が日本で妊娠したら", "母子健康手帳（多言語版）", "高等学校等就学支援金制度", "高等教育の学支援新制度", "外国人児童生徒のための就学ガイドブック", "はじめまして！今日からともだち（動画）", "外国人児童・保護者向け動画「おしえて！日本の小学校」", "小学校に入る前の子供を持つ人へのガイド", "幼児期のお子さんを持つ保護者の皆様へ（日本の幼稚園の入園）", "幼児教育・保育の無償化", "日本語能力自己評価ツール「にほんごチェック！」", "「生活者との外国人」のための日本語学習サイト「つながるひろがる にほんごでのくらし」", "日本語学習・生活ハンドブック", "いろどり日本語オンラインコース", "まるごと日本語オンラインコース", "エリンが挑戦！にほんごできます。コンテンツライブラリー", "ひきだすにほんご Activate Your Japanese!", "JF にほんごeラーニング みなと", "日本語学習ポータルサイト「NIHONGO eな」", "いろどり 生活の日本語", "外国人学校向け新型コロナウイルス対策情報"]
                    },
                    "医療": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M7.5 5.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L6 7l-.549.317a.5.5 0 1 0 .5.866l.549-.317V8.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L8 7l.549-.317a.5.5 0 1 0-.5-.866l-.549.317V5.5zM5.5 9h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0 0 1zm0 2h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0 0 1z"/>
                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                        </svg>`,
                        items: ["AMDA国際医療情報センター（多言語電話相談）", "個人使の医薬品を日本に持ち込む方へのご案内", "日本を安心して旅していただくために～具合が悪くなったとき～"]
                    },
                    "年金・福祉": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                            <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                            <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                        </svg>`,
                        items: ["国民年金制度の仕組み（多言語版リンク）", "厚生年金保険・健康保険制度（多言語版リンク）", "みんなのための「社会保険」リーフレット（多言語版リンク）", "社会保険制度加入のご案内（多言語版リンク）", "発達障害に関する外国人保護者向けパンフレット（言語別）"]
                    },
                    "税金": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"/>
                            <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"/>
                        </svg>`,
                        items: ["外国人の方の個人住民税について（多言語版リンク）", "所得税及び復興特別所得税の確定申告の手引き（多言語版リンク）", "各種控について（英語リンク）", "源泉徴収制度の概要（多言語版リンク）", "扶養控除についての案内（多言語版リンク）", "国税の納付に関する案内（多言語版リンク）"]
                    },
                    "交通": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
                        </svg>`,
                        items: ["交通のルール（多言語版リンク）", "歩行者・自転車運転している方へ（多言語版リンク）"]
                    },
                    "緊急・災害": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                        </svg>`,
                        items: ["新たな避難情報ポスター（多言語版リンク）", "Safety tipsアプリ：災害時の多言語対応情報（14言語対応）", "NHK WORLD-JAPANアプリ：多言語ニュース配信（19言語対応）", "Japan Safe Travel Twitterアカウント", "国土交通省提供の多言語防災ポータル（7言語対応）", "減災のポイントポスター（多言語版リンク）", "災害情報発信のためのトレーニング資料（多言語版リンク）", "日本気象庁の多言語対応気象情報ージ", "多言語対応の災害情報アプリ・WEBサイトのリーフレット", "避難情報ガイドラインのリンク"]
                    },
                    "住居": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
                        </svg>`,
                        items: ["外国人の言語対応サポートを行っている登録家賃債務保証業者一覧リンク", "外国人の民間賃貸住宅への円滑な入居についてリンク", "部屋探しのガイドブックリンク", "2024年4月1日から相続登記の申請が義務化されますリンク"]
                    },
                    "日常生活のルール": {
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/>
    </svg>`,
                        items: ["外国人の受入れ・共生に関する金融関連施策について（金融庁ウェブサイト）", "日本でくらすため銀行口座や金のつかい方"]
                    }
                },
                "生活・就労ガイドブック": {
                    "多言語版「生活・就労ガイドブック」": {
                        image: "./バナー/多言語版.jpg",
                        description: "日本語版をはじめとして、合計18言語版を公開しています"
                    },
                    "日本語版「生活・就労ガイドブック」": {
                        image: "./バナー/日本語版.png",
                        description: "日本語版を紹介するページです"
                    },
                    "やさしい日本語版「生活・仕事ガイドブック」": {
                        image: "./バナー/やさしい日本語版.jpg",
                        description: "「生活・就労ガイドブックの内容を「やさしい日本語」で記載しています」"
                    },
                    "政府広報オンライン":{ 
                        image: "./バナー/政府広報オンライン.jpg",
                        description: "政府広報オンラインでは、「生活・就労ガイドブック」を紹介しています。どんなことが書いてあるのか、動画で説明しています"
                    } ,
                },
                "特設ページ": {
                    "新型コロナ感染症情報": {
                        description: "感染防止のポイントや生活支援の情報を掲しています"
                    },
                    "マイナンバーカード特設サイト": {
                        description: "マイナンバーカードの申し込み方等を簡単に説明しています"
                    },
                    "ウクイナ避難民支援サイト": {
                        description: "ウクライナ避難支援の情報などついて知りたい方はこちらをご覧ください"
                    },
                    "「令和６年能登半島地震」関連情報": {
                        description: "地震などの災害に遭った方へ、お知らせです。多言語で地震などの災害に関する情報へのリンクをまとめたページを作成しました"
                    }
                },
                "やさしい日本語": {
                    "「在留支援ためのやさしい日本語ガイライン」": {
                        description: ""
                    },
                    "「話し言葉のポイント": {
                        description: ""
                    },
                    "「やさしい日本語の研修のための手引」": {
                        description: ""
                    },
                    "「やさしい日本語研修教材例」": {
                        description: ""
                    }
                },
                "各種施策・関連サイト": {
                    "生オリエンテーション動画": {
                        description: ""
                    },
                    "外国人との共生施策に係る御意見・御要望（御意見箱）": {
                        description: ""
                    },
                    "HarmoniUP!（ハーモニーアップ！）": {
                        description: ""
                    },
                    "外国人在留支援センター（FRESC/フレスク）": {
                        description: ""
                    },
                    "特定技能総合支援サイト": {
                        description: ""
                    }
                }
            },
            relatedLinks: {
                "首相官邸": {
                    image: "./関係省庁リンク/01_首相官邸.jpg",
                    link: "https://www.kantei.go.jp/"
                },
                "厚生労働省": {
                    image: "./関係省庁リンク/02_厚生労働省.gif",
                    link: "https://www.mhlw.go.jp/"
                },
                "外務": {
                    image: "./関係省庁リンク/03_外務省.jpg",
                    link: "https://www.mofa.go.jp/"
                },
                "国際交流基金": {
                    image: "./関係省庁リンク/04_国際交流基金.png",
                    link: "https://www.jpf.go.jp/"
                },
                "NHK WORLD": {
                    image: "./関係省庁リンク/05_NHK WORLD.png",
                    link: "https://www3.nhk.or.jp/nhkworld/"
                },
                "日本政府観光局（JNTO）": {
                    image: "./関係省庁リンク/06_JNTO.png",
                    link: "https://www.jnto.go.jp/"
                },
                "自体国際化協会（CLAIR）": {
                    image: "./関係省庁リンク/07_クレア.png",
                    link: "https://www.clair.or.jp/"
                },
                "外国技能実習機構（OTIT）": {
                    image: "./関係省庁リンク/08_実習機構.png",
                    link: "https://www.otit.go.jp/"
                },
                "日本貿易振興機構（JETRO）": {
                    image: "./関係省庁リンク/09_ジェトロ.png",
                    link: "https://www.jetro.go.jp/"
                }
            }
        };
        </script>
        <script>
        // ===== コンポーネントシステム - UI要素の構造化と再利用性の向上 =====

        /**
         * 基底コンポーネントクラス
         * すべてのUIコンポーネントの共通インターフェースを定義
         */
        class Component {
            constructor() {
                if (this.constructor === Component) {
                    throw new Error('Component クラスは直接インスタンス化でません');
                }
            }

            initialize() {
                this.generate();
            }

            generate() {
                throw new Error('generate メソッドを実装する必要があります');
            }
        }
    </script>
    <script>
        /**
         * ニュースコンポーネント
         * 最新情の一覧示を管理
         */
        class News extends Component {
            generate() {
                const newsList = document.querySelector('.news-list');
                newsList.innerHTML = '';

                DATA.news.forEach(news => {
                    const li = document.createElement('li');
                    li.className = 'news-item';
                    
                    if (news.link) {
                        li.setAttribute('data-href', news.link);
                        li.style.cursor = 'pointer';
                        li.addEventListener('click', () => {
                            Utils.handleExternalLink(news.link, true, false);
                        });
                    }
                    
                    li.innerHTML = `
                        <span class="news-date">${news.date}</span>
                        <span class="news-tag tag-${news.tag}">${news.tagText}</span>
                        <span class="news-text">${news.text}</span>
                    `;
                    
                    newsList.appendChild(li);
                });
            }
        }

        /**
         * タイルコンポーネント
         * カテゴリー別のクリッカブルなタイル表示を管理
         */
        class Tiles extends Component {
            generate() {
                const tileGrid = document.querySelector('.tile-grid');
                tileGrid.innerHTML = '';

                DATA.tiles.forEach(tile => {
                    const div = document.createElement('div');
                    div.className = 'tile';
                    div.onclick = () => Components.modal.show(tile.title);
                    div.innerHTML = `
                        <div class="tile-icon">${tile.icon}</div>
                        <h3>${tile.title}</h3>
                        <p>${tile.description}</p>
                    `;
                    tileGrid.appendChild(div);
                });
            }
        }

        /**
         * モーダルコンポネント
         * カテゴリー詳情報のポップアップ表示を制御
         */
        class Modal extends Component {

            initialize() {
                // オーバーレイのスクロール制御
                const overlay = document.getElementById('modalOverlay');
                overlay.addEventListener('wheel', (e) => {
                    e.preventDefault();
                }, { passive: false });
                
                overlay.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                }, { passive: false });

                this.generate();
            }
            generate() {

                const modal = document.getElementById('categoryModal');
        
                // モーダル本体でのスクロールイベントの伝播を防
                modal.addEventListener('wheel', (e) => {
                    if (modal.scrollHeight <= modal.clientHeight) {
                        e.preventDefault();
                    }
                    e.stopPropagation();
                }, { passive: false });

                modal.addEventListener('touchmove', (e) => {
                    if (modal.scrollHeight <= modal.clientHeight) {
                        e.preventDefault();
                    }
                    e.stopPropagation();
                }, { passive: false });

                // ーバーレイクリックイベント
                document.getElementById('modalOverlay')
                    .addEventListener('click', () => this.close());
                
                // 閉じるボタンのクリックイベント追加
                document.querySelector('.close-modal')
                    .addEventListener('click', (e) => {
                        e.stopPropagation(); 
                        this.close();
                    });
            }

            // カテゴリー別のモーダルンテンツを表
            show(category) {
                const modal = document.getElementById('categoryModal');
                const overlay = document.getElementById('modalOverlay');
                const modalTitle = document.getElementById('modalTitle');
                const categoryList = document.getElementById('categoryList');
                
                modalTitle.textContent = category;
                categoryList.innerHTML = '';
                
                if (!DATA.categories[category]) {
                    Utils.showToast('カテゴリデーが見つかりません');
                    return;
                }

                // 表示タイプの取得
                const displayType = DATA.tiles.find(tile => tile.title === category)?.displayType || 'list';
                
                if (displayType === 'tile') {
                    this.generateTileView(category, categoryList);
                } else {
                    this.generateListView(category, categoryList);
                }
                
                this.showModalWithAnimation(modal, overlay);
            }

            generateTileView(category, container) {
                const grid = document.createElement('div');
                grid.className = 'modal-tile-grid';
                
                Object.entries(DATA.categories[category]).forEach(([subCategory, data]) => {
                    const tile = document.createElement('div');
                    tile.className = 'modal-tile';
                    
                    // アイコンがある場合のみアイコン要素を生成
                    const iconHtml = data.icon ? `<div class="modal-tile-icon">${data.icon}</div>` : `<div class="modal-tile-icon"></div>`;
                    
                    tile.innerHTML = `
                        ${iconHtml}
                        <h4>${subCategory}</h4>
                    `;
                    
                    tile.onclick = () => Utils.handleExternalLink(data.link);
                    grid.appendChild(tile);
                });
                
                container.appendChild(grid);
            }

            generateListView(category, container) {
                Object.entries(DATA.categories[category]).forEach(([subCategory, data]) => {
                    const li = document.createElement('li');
                    li.className = 'category-item';
                    
                    let mediaContent = this.generateMediaContent(data, subCategory);
                    
                    li.innerHTML = `
                        <div class="category-content">
                            <h4>${subCategory}</h4>
                            ${mediaContent}
                        </div>
                    `;
                    
                    li.onclick = () => Utils.handleExternalLink(data.link);
                    container.appendChild(li);
                });
            }

            // メディアコンテンツ（画像・説明文）の生成
            generateMediaContent(data, subCategory) {
                if (!data.image && !data.description) return '';
                
                return `
                    <div class="category-media ${!data.image ? 'no-image' : ''}">
                        ${data.image ? `
                            <div class="category-image-container">
                                <img src="${data.image}" alt="${subCategory}" class="category-image">
                            </div>
                        ` : ''}
                        ${data.description ? `
                            <p class="category-description">${data.description}</p>
                        ` : ''}
                    </div>
                `;
            }

            // モーダル表示時のニメーショ制御
            showModalWithAnimation(modal, overlay) {
                modal.style.display = 'block';
                overlay.style.display = 'block';
                
                requestAnimationFrame(() => {
                    modal.classList.add('show');
                    overlay.classList.add('show');
                });
            }

            // モーダルクローズ時のアニメーション制御
            close() {
                const modal = document.getElementById('categoryModal');
                const overlay = document.getElementById('modalOverlay');
                
                modal.classList.remove('show');
                overlay.classList.remove('show');
            }
        }

        /**
         * 関連リンクコンポーネント
         * 外部サイトへのリンク一覧を管理
         */
        class RelatedLinks extends Component {
            generate() {
                const linkList = document.querySelector('.link-list');
                linkList.innerHTML = '';

                Object.entries(DATA.relatedLinks).forEach(([name, data]) => {
                    const li = document.createElement('li');
                    li.className = 'link-item';
                    li.innerHTML = `
                        <a href="#" class="related-link">
                            <img src="${data.image}" alt="${name}">
                            <span>${name}</span>
                        </a>
                    `;
                    
                    const link = li.querySelector('.related-link');
                    link.addEventListener('click', (e) => {
                        e.preventDefault(); 
                        Utils.handleExternalLink(data.link);
                    });
                    
                    linkList.appendChild(li);
                });
            }
        }

        /**
         * 検索コンポーネント
         * サイト内コンテンツの索機能を提供
         */
        class Search extends Component {
            initialize() {
                const searchBox = document.querySelector('.search-box');
                const searchButton = document.querySelector('.search-button');
                
                searchBox.addEventListener('keydown', e => {
                    if (e.key === 'Enter' && !e.isComposing && e.keyCode !== 229) {
                        this.perform();
                    }
                });
                searchButton.addEventListener('click', () => this.perform());
            }

            // 検索実行処理
            perform() {
                const searchTerm = document.querySelector('.search-box').value.toLowerCase();
                if (searchTerm.length < 2) {
                    Utils.showToast('検索キーワード2文字以上入力してください');
                    return;
                }

                const results = this.searchCategories(searchTerm);

                if (results.size === 0) {
                    Utils.showToast('検索結果が見つかりませんでした');
                    return;
                }

                this.showResults(results);
            }

            // カテゴリー検索のメイン理
            searchCategories(searchTerm) {
                const results = new Map();
                this.searchCategoryTitles(searchTerm, results);
                this.searchCategoryContents(searchTerm, results);
                return results;
            }

            // カテゴリータイトルの検索
            searchCategoryTitles(searchTerm, results) {
                Object.keys(DATA.categories).forEach(category => {
                    if (category.toLowerCase().includes(searchTerm)) {
                        Object.keys(DATA.categories[category]).forEach(subCategory => {
                            const key = `${category}>${subCategory}`;
                            results.set(key, {
                                category,
                                subCategory,
                                items: []
                            });
                        });
                    }
                });
            }

            // カテゴリーコンテンツの検索
            searchCategoryContents(searchTerm, results) {
                Object.keys(DATA.categories).forEach(category => {
                    Object.entries(DATA.categories[category]).forEach(([subCategory, data]) => {
                        const subCategoryMatch = subCategory.toLowerCase().includes(searchTerm) || 
                                                (data.description && data.description.toLowerCase().includes(searchTerm));
                        const matchingItems = data.items ? data.items.filter(item => 
                            item.toLowerCase().includes(searchTerm)
                        ) : [];

                        if (subCategoryMatch || matchingItems.length > 0) {
                            const key = `${category}>${subCategory}`;
                            const existingResult = results.get(key) || {
                                category,
                                subCategory,
                                image: data.image,
                                description: data.description || '',
                                items: []
                            };

                            if (matchingItems.length > 0) {
                                existingResult.items = matchingItems;
                            }

                            results.set(key, existingResult);
                        }
                    });
                });
            }

            // 検索結果の表
            showResults(results) {
                const modal = document.getElementById('categoryModal');
                const overlay = document.getElementById('modalOverlay');
                const modalTitle = document.getElementById('modalTitle');
                const categoryList = document.getElementById('categoryList');
                
                modalTitle.textContent = '検索結果';
                categoryList.innerHTML = '';
                
                results.forEach(result => {
                    const li = document.createElement('li');
                    li.className = 'category-item search-result';
                    
                    let displayText = this.generateResultDisplay(result);
                    
                    li.innerHTML = displayText;
                    li.onclick = () => Utils.handleExternalLink(DATA.categories[result.category][result.subCategory]?.link);
                    categoryList.appendChild(li);
                });
                
                modal.style.display = 'block';
                overlay.style.display = 'block';
                
                setTimeout(() => {
                    modal.classList.add('show');
                    overlay.classList.add('show');
                }, 10);
            }

            // 検索結果表示用のHTML生成
            generateResultDisplay(result) {
                const path = `${result.category} ＞ ${result.subCategory}`;
                
                if (result.items.length > 0) {
                    return `
                        <div class="search-path">${path}</div>
                        <ul class="search-sub-items">
                            ${result.items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    `;
                }
                
                return `<div class="search-path">${path}</div>`;
            }
        }

        // コンポーネントインスタンスの管理
        const Components = {
            news: new News(),
            tiles: new Tiles(),
            modal: new Modal(),
            relatedLinks: new RelatedLinks(),
            search: new Search()
        };

        /**
         * ユーティリティ関数群
         * 共通で使用する補助機能を提供
         */
        const Utils = {
            // 外部リンク処理の共通化
            handleExternalLink(link, newTab = true, showToastIfNoLink = true) {
                if (!link) {
                    if (showToastIfNoLink) {
                        this.showToast('リンクが設定されていません');
                    }
                    return false;
                }
                
                if (newTab) {
                    window.open(link, '_blank', 'noopener');
                } else {
                    window.location.href = link;
                }
                return true;
            },

            // トースト通知の表示
            showToast(message, duration = 3000) {
                const toast = document.getElementById('toastMessage');
                toast.textContent = message;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, duration);
            }
        };

        // アプリケーションの初期
        function initializeApp() {
            Object.values(Components).forEach(component => component.initialize());
        }

        // DOMロード完了時の初期化処理
        document.addEventListener('DOMContentLoaded', initializeApp);

    </script>
</body>
</html>
